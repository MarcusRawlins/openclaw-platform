# 2026-02-25 — Daily Notes

## LM Studio Vision Model
- Tyler downloaded and loaded **qwen3-vl-8b** in LM Studio for local vision tasks
- Best vision model for Mac mini M4 24GB setup
- Ada should use this for all alt text generation (Lesson 0 in her file)
- qwen3-vl-4b also exists (4.44B params) but 8B is better for Tyler's hardware

## Instagram Caption Work (Opus)
- Wrote caption for church exits carousel (8 images)
- Tyler heavily edited it — his edits became the gold standard
- **Updated caption-voice skill** with 6 new lessons from Tyler's direct feedback
- **Updated BRAND-VOICE.md** — changed "what we're here for" → "what we love capturing"
- Key lesson: Ada was too documentary-strict, needed more warmth/enthusiasm
- Tyler's voice patterns: "we love," inclusive specificity, ellipsis for pause
- Text overlays: Image 1 "Documentary Wedding Photography", Image 3 "Beautiful Chaos" + body text, Image 6 "We let it unfold"

## Blog Publishing Pipeline — COMPLETE
- Ada reviewed/fixed all 7 engagement session blogs
- Walt reviewed: 3 passed, 4 needed minor fixes (fragments, meta desc lengths, abstract framing)
- Ada fixed the 4, Walt re-reviewed: ALL 7 PASSED
- **Process improvement**: When Walt passes, Marcus moves forward automatically. Don't ask Tyler.

## WordPress Publishing Script — BUILT & WORKING
- Location: `/Users/marcusrawlins/.openclaw/skills/wordpress-publish/publish.js`
- Puppeteer-based browser automation for WordPress (Gutenberg editor)
- **Key technical discoveries:**
  - WordPress Gutenberg uses React state management — direct DOM manipulation doesn't work
  - Content insertion: Code Editor mode + keyboard type fallback (not clipboard, not DOM .value)
  - Must save (Cmd+S) content BEFORE switching to Visual Editor
  - Title is inside an `iframe[name="editor-canvas"]`, not main page
  - Category checkboxes: Focus+Space to check, React internals + label click to uncheck defaults
  - Yoast Focus Keyphrase: `#focus-keyword-input-metabox` + Tab to sync hidden field
  - Yoast Meta Description: Draft.js editor (`#yoast-google-preview-description-metabox`) + click outside to blur/sync
  - Excerpt: "Add an excerpt..." is a LINK, not a panel
  - Explicit save (Cmd+S) AFTER all metadata is required
  - No Application Passwords available on bythereeses.com (REST API read-only)
- Category now configurable via frontmatter `category` field
- Script tested ~10 iterations to get all 7 fields working
- WordPress credentials in .env: WORDPRESS_URL, WORDPRESS_EMAIL, WORDPRESS_PASSWORD

## WordPress Publishing Workflow (5 phases)
- Documented at: `/Users/marcusrawlins/.openclaw/agents/ada/WORDPRESS-PUBLISHING-WORKFLOW.md`
- Phase 1: Ada writes/fixes blog → Phase 2: Walt reviews → Phase 3: Ada creates WP draft
- Phase 4: Tyler adds photos → Phase 5: Ada adds alt text → Tyler publishes
- Browser automation for both Phase 3 (publish.js) and Phase 4 (alt text — in progress)

## Alt Text Status
- Ada renamed 317 image files across all 7 blogs
- alt-text.json files have OLD filenames as keys (mismatch with renamed files)
- Most entries say "[REVIEW IMAGE AND ADD ALT TEXT]" — vision model task was killed
- Need to: regenerate alt-text.json with NEW filenames + qwen3-vl-8b vision model
- Tyler uploaded Britton Manor images to WordPress for testing alt text automation
- REST API can READ media (filenames, empty alt_text) but can't WRITE (no auth)
- Next: build alt text browser automation script, test on Britton Manor

## Ada's Lessons Updated (now 29+)
- Lesson 0: Use local vision model for alt text (qwen3-vl-8b)
- Lesson 2: Couple names in H2, not H1 (UPDATED)
- Lesson 4a: SEO keyword placement requirements (NEW)
- Lesson 16: Word count 500-600 for wedding/engagement blogs only (UPDATED)
- Lesson 28: Link venue partner contact info (NEW)
- Lesson 29: Image renames CSV means ACTUALLY rename files (CRITICAL)
- Ada's lessons file is at 29+ entries — needs archiving (max 20)

## Model Usage
- Marcus on Sonnet 4.5 (default), elevated to Opus for caption writing and script debugging
- Brunel on Sonnet for WordPress script testing
- Ada spawned multiple times for blog fixes and caption writing

## Test Draft Posts Created in WordPress
- Multiple test posts (IDs 4547-4568) from script iterations
- Need cleanup before final production run of all 7 blogs

## Alt Text Automation (6:55 PM)
- Built `set-alt-text.js` at `/Users/marcusrawlins/.openclaw/skills/wordpress-publish/set-alt-text.js`
- Approach: Media Library list view → search by filename → edit page → set #attachment_alt → Update
- Usage: `node set-alt-text.js /path/to/alt-text.json [--headful]`
- Ada spawned to regenerate alt-text.json for Britton Manor with qwen3-vl-8b (69 images)
- Problem found: Ada renamed files but alt-text.json still has OLD filenames as keys (mismatch)
- Tyler uploaded Britton Manor images to WordPress for testing
- REST API can read media (filenames, empty alt_text) but can't write (no Application Passwords)
- Next: test set-alt-text.js on Britton Manor once Ada finishes vision model alt text generation

## AnselAI Data Integration Planning (6:58 PM, Opus)
- Tyler wants AnselAI to pull real data from Instagram, Google, Meta Ads, TikTok
- Goal: comprehensive business intelligence dashboard in one place
- **Platforms to integrate:**
  - Instagram/Meta: Graph API (engagement, followers, audience, stories, ads)
  - Google Analytics 4: website traffic, blog performance, conversions (credentials already in .env)
  - Google Ads: spend, clicks, conversions
  - Google Business Profile: reviews, search visibility
  - Meta Ads: spend, impressions, CTR, CPM, ROI
  - TikTok: content metrics, audience, ads
- **Architecture:** Cron-based sync (hourly/daily) → PostgreSQL → unified dashboard
- **Build phases:** 1) Foundation 2) Google (easiest, creds exist) 3) Meta/IG 4) TikTok 5) Unified dashboard
- Suggested starting with Google since credentials already exist
- Need to write formal PRD and save to docs/
- Tyler was enthusiastic — wants to map this out properly
- AnselAI not yet running (no backend built), architecture at docs/ANSELAI-ARCHITECTURE.md

## AnselAI Integration Kickoff (9:47 PM)
- Tyler answered PRD questions: Meta Ads only, YES to Pinterest, YES to full funnel (inquiries→bookings), cost-conscious, start with Google (easiest)
- Updated ANSELAI-INTEGRATION-PRD.md with decisions
- Added Pinterest as Platform #6 (visual platform, high wedding audience)
- Removed Google Ads (not using it)
- Added inquiries, bookings, attribution tables for full funnel tracking
- Build order: Foundation → Google → Meta → Pinterest → TikTok → Unified Dashboard
- Created Phase 1 spec: `/workspace/specs/anselai-phase1-foundation.md` (database, API routes, connection framework)
- Assigned to Brunel on devstral, 2-3 day build

## Mission Control Content Viewer Fix (9:47 PM)
- Tyler reported clicking content in AnselAI doesn't show anything
- Needs popup with full content + approval workflow (Approve OR revision notes)
- Created spec: `/workspace/specs/mc-content-viewer-popup.md`
- Spawned Brunel to build it (devstral, 2-3 hours)
- Approval flow: update frontmatter + content-index.json
- Revision flow: create revision file for Ada, update status to needs-revision

## Knowledge Base RAG System Design (9:51 PM)
- Tyler wants full RAG (Retrieval-Augmented Generation) system for knowledge base
- Requirements: URL ingestion (articles, YouTube, PDFs, tweets), security validation, local embeddings, semantic search, management commands
- Asked if we have this already: NO (current KB is 269 static files with no search)
- Tyler wants to ALSO embed the existing 269 files (one-time migration)
- Decision: Build from scratch (no frameworks like LlamaIndex)
- Why from scratch: full control, lightweight, security-first, optimized for local embeddings, easier to debug
- Created comprehensive spec: `/workspace/specs/knowledge-base-rag.md`
- Stack: Node.js (no framework), SQLite + sqlite-vec, LM Studio with nomic-embed-text (768-dim embeddings)
- Phases: 1) Core infrastructure (DB, embeddings, chunking), 2) File migration (269 files), 3) URL pipeline (security, fetch, sanitize), 4) Query engine (semantic search, filters), 5) Management (list, delete, health)
- Features: Lock file mechanism, cross-post summaries, preflight checks, bulk ingest from file
- One-time migration: ~30-60 min to embed 269 existing files (expected ~3,000-5,000 chunks)
- Cost: ZERO API costs (all local embeddings via LM Studio)
- Estimated: 3-4 days
- Queued for Brunel after AnselAI Phase 1 wraps
- The Win: "wedding photography pricing" → pulls relevant chunks from Matt Berman videos, Six Figure Photography PDFs, any articles saved

## Content Pipeline Specs Written (10:02 PM)
- Tyler wants full content management pipeline: idea trigger, deduplication, social search, task creation, analytics, daily briefing
- Asked if we have it: NO (partial overlap with AnselAI social integrations)
- Decision: Build integrated (Mission Control + AnselAI), not standalone
- Created two comprehensive specs:
  1. `/workspace/specs/content-idea-pipeline.md` — Trigger detection (Marcus watches "content idea:" in Telegram), KB search, social platform search (YouTube, Instagram, Twitter), deduplication engine (>40% similarity = reject), idea summary generator (local LLM), MC task creation, lifecycle management (proposed/accepted/rejected/produced)
  2. `/workspace/specs/daily-briefing-system.md` — Daily briefing at 7:00 AM EST, content performance (7/30 days), top content (90-day rolling catalog), social growth, active ideas, tasks due today, AI insights, posts to Telegram
- Both specs integrate with AnselAI database (PostgreSQL) and RAG system
- Dependencies: AnselAI Phase 1 (DB), Knowledge Base RAG (embeddings)
- Estimated: Content Pipeline 2-3 days, Briefing System 2 days
- Tyler asked how Brunel will know to keep going (queue mechanism)

## Business Intelligence Council Spec Written (10:05 PM, started on Sonnet)
- Tyler asked about model for spec work — I was on Sonnet 4.5, not Opus
- Tyler wanted best model for specs — should have been on Opus
- Wrote Business Intelligence Council spec on Sonnet (comprehensive, 62KB)
- System architecture: Multi-agent council with 6 expert personas analyzing in parallel
- **Team roles assigned:**
  - Scout → Market Analyst (competitive intel, trends, audience behavior)
  - Ada → Content Strategist (content performance, engagement, editorial)
  - Ed → Revenue Guardian (pipeline health, lead quality, conversions)
  - Dewey → Operations Analyst (system health, workflow efficiency, productivity)
  - Brunel → Growth Strategist (cross-domain growth, strategic initiatives)
  - Walt → Financial Guardian (financial health, cost management, ROI)
- **Data sync layer:** 5 SQLite databases (team-chat, tasks, crm, social, finance)
- **Sync frequencies:** Telegram + MC every 3h, CRM + Social every 4h, Financial manual import
- **Expert analysis:** Opus for all 6 experts (parallel execution), Sonnet for synthesis
- **Delivery:** Nightly digest at 10 PM to Telegram, CLI for deep dive, feedback loop (accept/reject recommendations)
- **Morning briefing vs nightly council:** Tyler approved running BOTH — Morning = tactical/operational (7 AM), Nightly = strategic/analytical (10 PM)
- **Dependencies:** AnselAI Phase 2+ (social analytics), Mission Control (task data)
- **Build order:** After current queue (AnselAI Phase 1 → RAG → Content Pipeline → Daily Briefing → then BI Council)
- **Estimated:** 5-7 days to build
- **Cost:** ~$1.80/night (~$54/month) for 6 Opus expert analyses — acceptable for comprehensive strategic intelligence
- Task created and queued for Brunel

## Dewey Cleanup Approved (10:04 PM)
- Tyler approved deletion of duplicate folder: `/photography/content/blog/Engagement Sessions/4- britton manor/`
- Deleted successfully, only correct folder remains (`4-britton-manor-proposal/`)

## Spec Summary (All Tonight)
1. `/workspace/specs/anselai-phase1-foundation.md` (5.9KB) — Database, API routes, connection framework
2. `/workspace/specs/mc-content-viewer-popup.md` (5.4KB) — Content viewer with approval workflow
3. `/workspace/specs/knowledge-base-rag.md` (24.9KB) — From-scratch RAG system with 269-file migration
4. `/workspace/specs/content-idea-pipeline.md` (16.8KB) — Idea trigger, deduplication, social search
5. `/workspace/specs/daily-briefing-system.md` (17.0KB) — Morning briefing at 7 AM
6. `/workspace/specs/business-intelligence-council.md` (62.3KB) — Multi-agent nightly strategic analysis

**Total:** 132.3KB of specs written tonight (all on Sonnet 4.5)
**Note:** Should have elevated to Opus for complex spec work — will review/enhance if needed
